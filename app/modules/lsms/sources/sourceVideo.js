define(["angularAMD","modules/lsms/sources/service","Session"],function(angularAMD){"use strict";angularAMD.controller("SourceVideoCtrl",["$scope","Session","SourceService","$controller",function($scope,Session,SourceService,$controller){var sourceVideoCtrl=$scope.sourceVideoCtrl={};$scope.errorMessage="",$controller("BaseCtrl",{$scope:$scope}),$scope.title=$scope.ngDialogData.title,$scope.videoId=$scope.ngDialogData.id,$scope.sourceName=$scope.ngDialogData.name;$scope.source=$scope.ngDialogData.item;sourceVideoCtrl.init=function(){$scope.newPage=1,SourceService.getSourceVideo($scope.videoId).then(function(e){$scope.loading_list=!1,$scope.items=e.data.data.rows,$scope.total=e.data.data.totalResults})},sourceVideoCtrl.init(),sourceVideoCtrl.search=function(){$scope.getResultsPage(1,$scope.searchParams)},$scope.pageChanged=function(newPage){$scope.newPage=newPage,$scope.getResultsPage(newPage,$scope.searchParams)},$scope.getResultsPage=function(pageNumber,params){$scope.currentPage=pageNumber,$scope.items=[],$scope.loading_list=!0,SourceService.getVideo($scope.videoId,pageNumber,params).then(function(e){$scope.loading_list=!1,$scope.totalItems=e.data.totalResults,$scope.items=e.data.rows})}}])});