<style>.glyphicon-block {
    display: block !important;
}
.padding-left-null {
    padding-left: 0 !important;
    margin-bottom: 15px !important;
}
.alert-error {
    clear: both;
    margin-top: 10px;
}
.del-btn {
position: absolute !important; top: 0px; !important
}
.url-second {
    float: left; line-height: 2.5;padding-right:5px
}</style><div class="alert alert-info text-center">编辑频道</div><!--<div class="panel-body ">--><div class="panel-body" ng-show="loading_list"><div us-spinner="{radius:30,width:10,length:20}" style="height: 190px" class="test"></div></div><form name="myform" class="form-horizontal css-form" role="form" ng-model="myform" novalidate ng-show="!loading_list"><div class="form-group"><label for="platform" class="col-md-2 control-label text-right">频道名称:</label><div class="col-md-6"><input type="text" ng-model="channel.name" name="videoName" id="videoName" class="form-control" required ng-minlength="2" ng-maxlength="100"> <small class="text-danger" ng-if="myform.videoName.$error.required && (myform.videoName.$dirty || channelSubmit)">请输入频道名称</small> <small class="text-danger" ng-if="myform.videoName.$error.minlength">名称字数不能少于2个</small> <small class="text-danger" ng-if="myform.videoName.$error.maxlength">名称最大为100</small> <small class="text-success" ng-show="myform.videoName.$valid"><span class="glyphicon glyphicon-ok"></span></small></div></div><div class="form-group"><label for="platform" class="col-md-2 control-label text-right">频道类型:</label><div class="col-md-6"><label class="col-md-2"><input type="radio" ng-disabled="videoId!=-1" name="videoPlayType" ng-model="channel.videoType" value="1" required>直播</label><label class="col-md-2"><input type="radio" ng-disabled="videoId!=-1" name="videoPlayType" ng-model="channel.videoType" value="2" required>广播</label><label class="col-md-2"><input type="radio" ng-disabled="videoId!=-1" name="videoPlayType" ng-model="channel.videoType" value="3" required>轮播</label><label class="col-md-2"><input type="radio" ng-disabled="videoId!=-1" name="videoPlayType" ng-model="channel.videoType" value="4" required>html</label><label class="col-md-2"><input type="radio" ng-disabled="videoId!=-1" name="videoPlayType" ng-model="channel.videoType" value="6" required>互动直播</label><div class="alert-error"><small class="text-danger" ng-if="myform.videoPlayType.$error.required && (myform.videoPlayType.$dirty || channelSubmit)">必须选择频道类型</small></div></div></div><div class="form-group"><label for="platform" class="col-md-2 control-label text-right">频道状态:</label><div class="col-md-6"><label class="col-md-2" ng-if="!channel.videoId"><input type="radio" name="videoStatus" ng-model="channel.videoStatus" value="1" required>上线</label><label class="col-md-2"><input type="radio" name="videoStatus" ng-model="channel.videoStatus" value="2" required>下线</label><label class="col-md-2"><input type="radio" name="videoStatus" ng-model="channel.videoStatus" value="0" required>未完善</label><div class="alert-error"><small class="text-danger" ng-if="myform.videoStatus.$error.required && (myform.videoStatus.$dirty || channelSubmit)">必须选择频道状态</small></div></div></div><div class="form-group" style="margin-bottom: 0"><label class="col-md-2 control-label text-right">URL:</label><div class="col-md-10 padding-left-null"><label class="col-md-2"><input type="radio" name="urlSource" ng-model="channel.urlSource" value="0" required ng-click="channelEditCtrl.radioType()">自有</label><label class="col-md-2"><input type="radio" name="urlSource" ng-model="channel.urlSource" value="1" required>第三方</label><div class="alert-error col-md-8"><small class="text-danger" ng-if="formatError == 1">格式不正确 请重新检查</small> <small class="text-danger" ng-if="myform.urltype.$error.required && (myform.urltype.$dirty || channelSubmit)">标题不能为空</small></div><div class="col-md-12" ng-if="channel.urlSource == 1"><div class="form-group inline"><span class="url-second">标题:</span> <input type="text" name="urltype" ng-model="urlObj.title" style="width:50% !important" class="form-control" required></div><div class="form-group"><span class="url-second">唤醒方式:</span> <input type="text" name="urlWrite" ng-model="urlObj.location" style="width:50% !important" class="form-control" ng-blur="channelEditCtrl.urlblur()"></div></div></div></div><div class="form-group" style="padding-top: 0"><div class="col-md-12" ng-if="channel.urlSource == 0" ng-repeat="urlObj in urlCount track by $index"><div ng-if="urlObj.pUrlId != -2"><div class="col-md-1"></div><div class="col-md-1 padding-left-null"><select class="form-control" ng-model="urlObj.selectName" ng-options="option as option for option in urlOptions" ng-change="channelEditCtrl.changeVideoType(urlObj.selectName,$index)"><!--ng-disabled="urlObj.pUrlId !='' && urlObj.pUrlId >= 0"--></select></div><div class="col-md-2"><input type="text" name="urlSource" ng-model="urlObj.source" placeholder="源ID+源名称" class="form-control" readonly="readonly"></div><div class="col-md-1"><input type="text" ng-if="urlObj.selectName=='手工输入'" name="urlWrite" ng-model="urlObj.writeName" class="form-control"><!--ng-disabled="urlObj.pUrlId !='' && urlObj.pUrlId >= 0"--></div><div class="col-md-2"><input type="text" ng-disabled="urlObj.pUrlId!='' && urlObj.pUrlId >= 0" class="form-control" name="urlVal" id="urlval" ng-model="urlObj.location" ng-blur="channelEditCtrl.urlblur()" readonly="readonly"></div><div class="col-md-2"><span class="glyphicon glyphicon-chevron-up glyphicon-block" ng-click="channelEditCtrl.upState(urlObj,urlObj.selectName,$index)" style="display:block !important" aria-hidden="true"></span> <span class="glyphicon glyphicon-chevron-down" ng-click="channelEditCtrl.downState(urlObj,urlObj.selectName,$index)" aria-hidden="true"></span> <a ng-if="urlCount.length != 1" style="position:absolute; top:0" class="btn btn-default del-btn" ng-click="channelEditCtrl.deleteState($index)" type="submit">删除</a> <a class="btn btn-default" style="position:absolute; top:0; right:0" ng-click="channelEditCtrl.chooseMore($index)" type="submit">选取更多</a></div><div class="col-md-2"><select class="form-control" ng-model="urlObj.vip"><option value="0" ng-selected="0==urlObj.vip">非会员</option><option value="1" ng-selected="1==urlObj.vip">会员</option><option value="2" ng-selected="2==urlObj.vip">限时免费</option></select></div><!--<div class="col-md-2 text-danger" ng-show="urlObj.pUrlId==-1&&channel.videoStatus==2">--><!--<label class="control-label">应用于安卓4.0以上</label>--><!--</div>--><!--<div class="col-md-2 text-danger" ng-show="urlObj.pUrlId==0 && urlObj.flag!=0">--><!--<label class="control-label">客户端不显示</label>--><!--</div>--><!--<div class="col-md-2 text-danger" ng-show="urlObj.pUrlId > 0&&channel.videoStatus==2" >--><!--<label class="control-label">全部显示</label>--><!--</div>--><!--<div class="col-md-1 text-danger" ng-show="urlObj.pUrlId !== 0&&channel.videoStatus==2" >--><!--<a class="btn btn-default" ng-show="urlObj.is_showUrl==0" ng-click="">显示</a>--><!--<a class="btn btn-default" ng-show="urlObj.is_showUrl==1" ng-click="">不显示</a>--><!--</div>--></div></div><div class="col-md-8 text-right"><a class="btn btn-primary" ng-if="channel.urlSource == 0" ng-click="channelEditCtrl.addUrl()">增加Url</a></div></div><div class="form-group"><label class="col-md-2 control-label text-right">会员类型:</label><div class="col-md-6"><select class="form-control" ng-model="channel.vip"><option value="0" ng-selected="0==channel.vip">非会员</option><option value="1" ng-selected="1==channel.vip">会员</option><option value="2" ng-selected="2==channel.vip">限时免费</option></select></div></div><div class="form-group"><label for="platform" class="col-md-2 control-label text-right">频道描述:</label><div class="col-md-6"><textarea class="form-control" ng-maxlength="1000" name="description" ng-model="channel.description" rows="3"></textarea><div class="alert-error"><small class="text-danger" ng-if="myform.description.$error.maxlength">频道描述，最多1000字</small></div></div></div><div class="form-group"><label for="platform" class="col-md-2 control-label text-right">频道图片:</label><div class="col-md-6"><select-image ng-model="channel.videoImage" id="videoImage" img="channel.videoImage" name="videoImage"></select-image></div></div><div class="form-group"><label for="platform" class="col-md-2 control-label text-right">电视图片:</label><div class="col-md-6"><select-image ng-model="channel.videoTvImage" id="videoTvImage" img="channel.videoTvImage" name="videoTvImage"></select-image></div></div><div class="form-group"><label for="platform" class="col-md-2 control-label text-right">分享图片:</label><div class="col-md-6"><!--<select-image ng-model="channel.videoShareImage" id="videoShareImage" img="channel.videoShareImage" name="videoShareImage" ></select-image>--><input class="form-control" ng-model="channel.videoShareImage" id="videoShareImage" name="videoShareImage"></div></div><div class="form-group"><label for="platform" class="col-md-2 control-label text-right">频道EPG:</label><div class="col-md-5"><input type="text" ng-disabled="true" ng-model="videoEpg" name="videoEpg" id="videoEpg" class="form-control"> <input type="hidden" ng-model="channel.videoEpg"></div><div class="col-md-3"><a class="btn btn-primary" ng-click="channelEditCtrl.changeItem(0)">选择</a></div></div><div class="form-group"><label for="platform" class="col-md-2 control-label text-right">所属CP:</label><div class="col-md-5"><input type="text" ng-disabled="true" ng-model="videoCp" name="videoCp" id="videoCp" class="form-control"> <input type="hidden" ng-model="channel.videoCp"></div><div class="col-md-3"><a class="btn btn-primary" ng-click="channelEditCtrl.changeItem(1)">选择</a></div></div><div class="form-group"><label for="platform" class="col-md-2 control-label text-right">所属地区:</label><div class="col-md-5"><input type="text" ng-model="channel.area" name="area" id="area" class="form-control" ng-maxlength="50" ng-minlength="2"><div class="alert-error"><small class="text-danger" ng-if="myform.area.$error.maxlength">所属地区最长字段为50,请重新检查</small></div></div></div><div class="form-group"><label for="platform" class="col-md-2 control-label text-right">频道自取首字母:</label><div class="col-md-5"><input type="text" ng-model="channel.firstChar" name="firstChar" id="firstChar" class="form-control" ng-maxlength="1"><div class="alert-error"><small class="text-danger" ng-if="myform.firstChar.$error.maxlength">频道首字母仅限一个英文字母</small></div></div></div><div class="form-group"><label for="platform" class="col-md-2 control-label text-right">频道评分:</label><div class="col-md-5"><input type="text" ng-model="channel.score" is-number name="number" id="number" class="form-control"><div class="alert-error"><small class="text-danger" ng-if="myform.number.$error.maxlength">评分数在1~99之间</small> <small class="text-danger" ng-if="myform.$error.number">输入频道评分,仅限数字</small></div></div></div><div class="form-group"><label for="platform" class="col-md-2 control-label text-right">频道分类:</label><div class="col-md-5"><input type="text" ng-disabled="true" ng-model="videoCategory" name="videoCategory" id="videoCategory" class="form-control"> <input type="hidden" ng-model="channel.videoCategory"></div><div class="col-md-3"><a class="btn btn-primary" ng-click="channelEditCtrl.changeItem(2)">选择</a></div></div><div class="form-group"><label for="platform" class="col-md-2 control-label text-right">频道标签:</label><div class="col-md-5"><input type="text" ng-disabled="true" ng-model="videoTag" name="videoTag" id="videoTag" class="form-control"> <input type="hidden" ng-model="channel.videoTag"></div><div class="col-md-3"><a class="btn btn-primary" ng-click="channelEditCtrl.changeItem(3)">选择</a></div></div><div class="form-group"><label for="platform" class="col-md-2 control-label text-right">频道应用:</label><div class="col-md-5"><input type="text" ng-disabled="true" ng-model="videoApp" name="videoApp" id="videoApp" class="form-control"> <input type="hidden" ng-model="channel.videoApp"></div><div class="col-md-3"><a class="btn btn-primary" ng-click="channelEditCtrl.changeItem(4)">选择</a></div></div><div class="form-group"><label for="platform" class="col-md-2 control-label text-right">计费类型:</label><div class="col-md-5"><select ng-model="chargetype" name="roleId" id="roleId" class="form-control" ng-options="role.name for role in chargetypes"></select></div></div><div class="form-group"><div class="col-md-5 text-right"><a class="btn btn-primary" ng-click="channelEditCtrl.channelSave()" ng-disabled="submitStatus">保存</a> <a class="btn btn-primary" ng-click="itemCtrl.back()">取消</a></div></div></form><!--</div>-->