<div class="alert alert-info"><h4>栏目管理</h4></div><div class="row"><div class="col-md-3"><a class="btn btn-primary" ng-click="deleteAll()">删除</a></div><div class="col-md-9" ng-if="methods.index.name"><form class="form-inline pull-right" role="form"><!--地域选择--><div class="form-group"><label for="searchAreaName">地域：</label><select id="searchAreaName" class="form-control" ng-model="searchParams.areaId" ng-change="itemCtrl.search()"><option value="">全部</option><option value="{{area.areaId}}" ng-repeat="area in areaList">{{area.areaName}}</option></select></div><div class="form-group"><label class="sr-only" for="searchshowName">栏目名称</label><input type="text" class="form-control" ng-model="searchParams.videoName" id="searchshowName" placeholder="栏目名称"></div><div class="form-group"><label class="sr-only" for="searchshowSrc">全部来源</label><select class="form-control" ng-model="searchParams.fromSrc" ng-change="itemCtrl.search()" id="searchshowSrc"><option value="">全部来源</option><option value="1">自制</option><option value="2">第三方</option></select></div><div class="form-group"><label class="sr-only" for="searchstate">全部状态</label><select class="form-control" ng-model="searchParams.videoStatus" ng-change="itemCtrl.search()" id="searchstate"><option value="">全部状态</option><option value="1">上线</option><option value="2">下线</option></select></div><div class="form-group"><label class="sr-only" for="chargetype">全部</label><select class="form-control" ng-model="searchParams.chargeType" ng-change="itemCtrl.search()" id="chargetype"><option value="">全部</option><option value="0">免费</option><option value="1">收费</option></select></div><button type="submit" class="btn btn-primary" ng-click="itemCtrl.search()">搜索</button></form></div><div class="col-md-12"><a href="javascript:;;">{{totalItems}} 条信息</a></div></div><div class="clearfix" style="margin-bottom: 20px"></div><div id="alert_info" ng-show="search_error"><div class="alert alert-danger">{{search_error_msg}}</div></div><table class="table table-bordered table-hover table-striped"><tr><th width="2%"><input type="checkbox" ng-model="selectAll" ng-click="toggleAll()"></th><th width="6%">ID</th><th width="8%">栏目名称</th><th width="4%">来源</th><th width="5%">下线/总数</th><th width="5%">描述</th><th width="5%">状态</th><th width="8%">计费类型</th><th width="10%">创建时间</th><th width="8%">预览图</th><th width="5%">评分</th><th width="50%">操作</th></tr><tr><td colspan="7" ng-show="loading_list"><div style="position: relative;height:50px"><span us-spinner></span></div></td></tr><tr dir-paginate="item in items | itemsPerPage: itemsPerPage" total-items="totalItems"><td><input type="checkbox" value="{{ item.id }}" name="ids[]" ng-model="item.checked" ng-checked="selectAll" ng-click="toggleSelection(item.id)"></td><td>{{ item.id }}</td><td><a ng-click="showCtrl.getVideo(item.id)" style="cursor:pointer">{{ item.videoName }}</a></td><td>{{ typeSrc[item.fromSrc ]}}</td><td class="line {{ item.offlineNum==(item.offlineNum + item.onlineNum) ? 'text-danger': '' }}">{{ item.offlineNum}}/{{item.offlineNum + item.onlineNum}}</td><td><div style="width:100px;height:100px" title="{{item.description}}">{{ item.description.length>35 ? item.description.subStr(0,33) + '...' : item.description}}</div></td><td>{{ typeState[item.videoStatus] }}</td><td>{{ item.name }}</td><td>{{ item.createdAt!=0 ? (item.createdAt*1000 | date:'yyyy-MM-dd HH:mm:ss') : '' }}</td><td><img style="height:100px" ng-src="{{ item.images.videoImage | errorImg }}" alt=""></td><td>{{item.score}}</td><!--<td><img  alt="" ng-src="{{ item.images.tvImage }}"/></td>--><td><button class="btn btn-default" ng-click="itemCtrl.editItem(item)">编辑</button> <button class="btn btn-default" ng-if="item.videoStatus==1" ng-click="showCtrl.update(item,2)">下线</button> <button class="btn btn-default" ng-if="item.videoStatus==2" ng-click="showCtrl.update(item,1)">上线</button> <button class="btn btn-default" ng-if="item.isDownload==0" ng-click="showCtrl.isDown(item,1)">可下载</button> <button class="btn btn-default" ng-if="item.isDownload==1" ng-click="showCtrl.isDown(item,0)">禁下载</button> <a class="btn btn-default" ng-click="itemCtrl.deleteItem(item.id,$event)">删除</a> <button class="btn btn-default" ng-click="showCtrl.changeItem(0,item.id)">配置标签</button> <button class="btn btn-default" ng-click="showCtrl.changeItem(1,item.id)">设置应用</button> <button class="btn btn-default" ng-click="showCtrl.changeItem(2,item.id)" ng-if="item.videoStatus==2">设置计费</button> <button class="btn btn-default" ng-click="showCtrl.showVideo(item.id)">预览</button> <a class="btn btn-default" ng-click="itemCtrl.belongArea(item.id, 0,'vod', $event)">所属地域</a> <span class="btn btn-default" style="position: relative;height:35px;width:4em;display:none"><span us-spinner="{radius:1,lenth:4,width:2}" spinner-key="spinner_{{item.id}}"></span></span></td></tr></table><dir-pagination-controls on-page-change="pageChanged(newPageNumber)"></dir-pagination-controls>