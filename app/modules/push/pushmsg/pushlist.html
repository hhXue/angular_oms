<!--<div class="alert text-right">--><!--<button class="btn btn-primary" type="button" ui-sref="site.push.pushmsg.createMsg">发送通知</button>--><!--<button class="btn btn-primary" type="button" ui-sref="site.push.pushmsg.createHidemsg">发送透传</button>--><!--</div>--><div class="alert alert-info"><h4>推送列表</h4></div><div class="row"><div class="col-md-4"><!--<a class="btn btn-primary" ng-click="itemCtrl.createItem()" ng-if="methods.create.name">新增</a>--><!--<a class="btn btn-primary" ng-click="deleteAll()" ng-if="methods.dels.name">删除</a>--></div><div class="col-md-8"><form class="form-inline pull-right" role="form"><div class="form-group"><label class="">根据状态筛选:</label><select class="form-control" ng-model="searchParams.sentStatus" ng-change="itemCtrl.search()"><option value="">全部</option><option value="0">未发送</option><option value="1">已发送</option><option value="2">异常</option></select><!--<input type="text" class="form-control" ng-model="searchParams.categoryName" ng-enter="itemCtrl.search()" id="categoryName" placeholder="分类名称">--></div><div class="form-group"><label class="radio-inline"><input type="radio" name="type" value="1" ng-checked="true" checked="checked" ng-model="searchType">ID</label><label class="radio-inline"><input type="radio" name="type" value="2" ng-model="searchType">标题</label><label class="radio-inline"><input type="radio" name="type" value="3" ng-model="searchType">摘要</label><input type="text" class="form-control" ng-show="searchType==1" ng-model="searchParams.id" ng-enter="itemCtrl.search()" placeholder="ID名称"> <input type="text" class="form-control" ng-show="searchType==2" ng-model="searchParams.title" ng-enter="itemCtrl.search()" placeholder="标题名称"> <input type="text" class="form-control" ng-show="searchType==3" ng-model="searchParams.abstract" ng-enter="itemCtrl.search()" placeholder="摘要"></div><a type="submit" class="btn btn-primary" ng-click="itemCtrl.search()">搜索</a></form></div></div><div class="clearfix" style="margin-bottom: 20px"></div><div id="alert_info" ng-show="search_error"><div class="alert alert-danger">{{search_error_msg}}</div></div><table class="table table-bordered table-hover table-striped"><tr><!--<th width="2%"><input type="checkbox" ng-model="selectAll" ng-click="toggleAll()" /></th>--><th width="5%">ID</th><th width="10%">标题</th><th width="10%">摘要</th><th width="6%">透传/通知</th><th width="6%">内容类型</th><th width="23%" nowrap="nowrap">内容</th><th width="6%">发送对象</th><th width="5%">通道</th><th width="5%">目标设备</th><th width="4%">状态</th><th width="10%">发送时间</th><th width="20%">操作</th></tr><tr><td colspan="12" ng-show="loading_list"><div style="position: relative;height:50px"><span us-spinner></span></div></td></tr><tr dir-paginate="item in items | itemsPerPage: itemsPerPage" total-items="totalItems"><!--<td><input type="checkbox" value="{{ item.id }}" name="ids[]" ng-model="item.checked" ng-checked="selectAll" ng-click="toggleSelection(item.id)" /></td>--><td>{{ item.id }}</td><td>{{ item.title }}</td><td>{{ item.abstract }}</td><td>{{ typeMsg[item.msgType] }}</td><td>{{ typeContent[item.addType] }}</td><td><div style="height:100px" title="{{ chooseDate(item.addData) }}">{{ chooseDate(item.addData).length > 70 ? chooseDate(item.addData).substr(0,70) + '...' : chooseDate(item.addData) }}</div></td><td>{{ item.receiverGid=='all' ? '全部': '正在观看频道 - '+ item.videoName}}</td><td>{{ typeServer[item.status[0].pushServer]}}</td><td>{{ getDevice(item.status) }}</td><td>{{ typeSend[item.sentStatus] }}</td><td>{{ item.sendTime!=0 ? (item.sendTime*1000 | date:'yyyy-MM-dd HH:mm:ss') : '' }}</td><td><a href="javascript:;;" class="btn btn-default" ng-show="item.sentStatus==1" ui-sref="site.push.pushmsg.show({showId:item.id})">查看</a> <a href="javascript:;;" class="btn btn-default" ng-show="item.sentStatus!=1&&item.msgType==1" ui-sref="site.push.pushmsg.createMsg({showId:item.id})">编辑</a> <a href="javascript:;;" class="btn btn-default" ng-show="item.sentStatus!=1&&item.msgType==0" ui-sref="site.push.pushmsg.createHidemsg({showId:item.id})">编辑</a> <a href="javascript:;;" class="btn btn-default" ng-click="itemCtrl.deleteItem(item.id, $event)" ng-show="item.sentStatus!=1">删除</a></td></tr></table><dir-pagination-controls on-page-change="pageChanged(newPageNumber)"></dir-pagination-controls>